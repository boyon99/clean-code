## 변수 다루기

#### var를 지양하라 (전역 변수 사용 최소화)

var 대신 const를 사용해야 한다. var는 함수 스코프이고 let과 const는 블록 단위 스코프이기에 또한 TDZ이므로 안전하게 코드를 작성할 수 있다.

> function scope (함수 스코프) & block scope (블록 단위 스코프)

#### 임시 변수 제거 하기

**솔루션 1**

```js
function getElements() {
  const result = {};

  result.title = document.querySelector(".title");
  result.text = document.querySelector(".text");
  result.value = document.querySelector(".value");

  return result;
}
```

을 다음과 같이 수정할 수 있다.

```js
function getElements() {
  const result = {
    title: document.querySelector(".title"),
    text: document.querySelector(".text"),
    value: document.querySelector(".value"),
  };

  return result;
}
```

다시 한 번 요약하면

```js
function getElements() {
  return {
    title: document.querySelector(".title"),
    text: document.querySelector(".text"),
    value: document.querySelector(".value"),
  };
}
```

만일 `const tempObj = {}`와 같은 임시객체를 생성할 경우 CRUD을 하고 싶다는 의미이다.

---

**솔루션2**

```js
function getDateTime(targetDate) {
  let month = targetDate.getMonth();
  let day = targetDate.getDate();
  let hour = targetDate.Hours();

  month = month >= 10 ? month : "0" + month;
  day = day >= 10 ? day : "0" + day;
  hour = hour >= 10 ? hour : "0" + hour;

  return {
    month,
    day,
    hour,
  };
}
```

새로운 기능을 추가해야 할 때 (예를 들어 날짜를 추가해야 하는지) 해당 함수를 확장하려면 바로 반환할 수 있는 형태로 바꿔 주는 것이 좋다.

```js
function getDateTime(targetDate) {
  let month = targetDate.getMonth();
  let day = targetDate.getDate();
  let hour = targetDate.Hours();

  return {
    month: month >= 10 ? month : "0" + month,
    day: day >= 10 ? day : "0" + day,
    hour: hour >= 10 ? hour : "0" + hour,
  };
}

function getDateTime() {
  const currentDateTime = getDateTime(new Date());

  return {
    month: currentDateTime.month + "분 전",
    day: currentDateTime.day + "일  전",
    hour: currentDateTime.hour + "시 전",
  };
}
```

추상화를 계속 해나가야 하기 때문에 임시변수를 줄여야 한다.

```js
function getDateTime(targetDate) {
  let month = targetDate.getMonth();
  let day = targetDate.getDate();
  let hour = targetDate.Hours();

  return {
    month: month >= 10 ? month : "0" + month,
    day: day >= 10 ? day : "0" + day,
    hour: hour >= 10 ? hour : "0" + hour,
  };
}

function getDateTime() {
  const currentDateTime = getDateTime(new Date());

  return {
    month: computedKrDate(currentDateTime.month),
    day: computedKrDate(currentDateTime.day),
    hour: computedKrDate(currentDateTime.hour),
  };
}
```

---

**솔루션3**

```js
function genRandomNumber(min, max) {
  const randomNumber = Math.floor(Math.random() * (max + 1) + min);

  return randomNumber;
}
```

하나의 역할만 할 수 있는 함수로 만드는 것이 좋다.

```js
function getSomeValue(params) {
  let tempVal = "";

  for (let index = 0; index < array.length; index++) {
    temp = array[index];
    temp += array[index];
    temp += array[index];
    temp += array[index];
  }

  return temp;
}
```

이는 명령에 가까운 코드로 이런 식으로 하는 것은 지양해야 한다.

---

**결론**

어디서 어떻게 잘못되었는지 디버깅이 어렵고 타인이 추가적인 코드를 작성하고 싶은 유혹에 빠지기 쉽다. 또한 임시 코드를 작성하면 유지보수 하기가 어렵다.

---

**해결책**

- 함수를 나눈다.
- 바로 반환한다.
- 고차함수를 사용한다. `map()` `filter()` `reduce()`
- 선언형 함수로 바꾸도록 한다.

#### 호이스팅 주의하기

호이스팅이란 런타임 시 선언과 할당이 분리된 것을 의미한다.

- 변수 사용 시 : const나 let 키워드 사용
- 함수 사용 시 : 함수 선언문 대신 `const sum = function(){}`과 같이 함수 표현식을 사용
